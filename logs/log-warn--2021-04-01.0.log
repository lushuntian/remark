2021-04-01 09:57:23.817 WARN  --- [main] com.sunday.remark.service.RemarkService - function RemarkService.createRemark make exception:PreparedStatementCallback; SQL [insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?)]; Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200] by:Remark(id=0, consumerId=1000, itemId=item-1, orderId=orderId-1, score=80, header=标题, content=真心不错，下次还要买!!!, images=https://sunday-picture.oss-cn-hangzhou.aliyuncs.com/image-20201224011110127.png)
2021-04-01 09:59:02.977 WARN  --- [main] com.sunday.remark.service.RemarkService - function RemarkService.createRemark make exception:PreparedStatementCallback; SQL [insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?)]; Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200] by:Remark(id=0, consumerId=1000, itemId=item-1, orderId=orderId-1, score=80, header=标题, content=真心不错，下次还要买!!!, images=https://sunday-picture.oss-cn-hangzhou.aliyuncs.com/image-20201224011110127.png)
2021-04-01 10:00:57.257 WARN  --- [main] com.sunday.remark.service.RemarkService - function RemarkService.createRemark make exception:PreparedStatementCallback; SQL [insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?)]; Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200] by:Remark(id=0, consumerId=1000, itemId=item-1, orderId=orderId-1, score=80, header=标题, content=真心不错，下次还要买!!!, images=https://sunday-picture.oss-cn-hangzhou.aliyuncs.com/image-20201224011110127.png)
2021-04-01 10:02:36.167 WARN  --- [main] com.sunday.remark.service.RemarkService - function RemarkService.createRemark make exception:PreparedStatementCallback; SQL [insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?)]; Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200] by:Remark(id=0, consumerId=1000, itemId=item-1, orderId=orderId-1, score=80, header=标题, content=真心不错，下次还要买!!!, images=https://sunday-picture.oss-cn-hangzhou.aliyuncs.com/image-20201224011110127.png)
2021-04-01 10:06:49.346 WARN  --- [main] com.sunday.remark.service.RemarkService - function RemarkService.createRemark make exception:PreparedStatementCallback; SQL [insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?)]; Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 12"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 12"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200] by:Remark(id=0, consumerId=1000, itemId=item-1, orderId=orderId-2, score=80, header=标题, content=真心不错，下次还要买!!!, images=https://sunday-picture.oss-cn-hangzhou.aliyuncs.com/image-20201224011110127.png)
2021-04-01 15:37:05.861 WARN  --- [http-nio-8080-exec-3] o.s.w.s.m.support.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2021-04-01 15:38:05.759 WARN  --- [http-nio-8080-exec-6] o.s.w.s.m.support.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2021-04-01 15:43:31.234 WARN  --- [http-nio-8080-exec-2] o.s.w.s.m.support.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2021-04-01 15:43:35.203 WARN  --- [http-nio-8080-exec-3] o.s.w.s.m.support.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2021-04-01 16:10:11.881 WARN  --- [main] org.springframework.web.servlet.PageNotFound - No mapping for GET /hello
2021-04-01 16:15:18.542 WARN  --- [main] org.springframework.web.servlet.PageNotFound - No mapping for GET /hello
2021-04-01 16:58:51.982 WARN  --- [main] o.s.w.context.support.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'remarkController': Unsatisfied dependency expressed through field 'remarkService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'remarkService' defined in file [C:\Users\lushuntian\Desktop\shuntian\code\remark\target\classes\com\sunday\remark\service\RemarkService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'remarkRepository': Unsatisfied dependency expressed through field 'db'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jdbcTemplate' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/JdbcTemplateConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of class path resource [schema.sql]: CREATE TABLE IF NOT EXISTS remark( id INT primary key auto_increment, gmt_create datetime not null default CURRENT_TIMESTAMP, gmt_modified datetime not NULL default CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, consumer_id INT not null, item_id varchar(50) not null, score TINYINT not null, header VARCHAR(20) not null, content VARCHAR(200) not null, images VARCHAR(1000) , status TINYINT not null default 1, UNIQUE(order_id) ); nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Column "ORDER_ID" not found; SQL statement:
CREATE TABLE IF NOT EXISTS remark( id INT primary key auto_increment, gmt_create datetime not null default CURRENT_TIMESTAMP, gmt_modified datetime not NULL default CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, consumer_id INT not null, item_id varchar(50) not null, score TINYINT not null, header VARCHAR(20) not null, content VARCHAR(200) not null, images VARCHAR(1000) , status TINYINT not null default 1, UNIQUE(order_id) ) [42122-200]
2021-04-01 17:44:22.648 WARN  --- [main] com.sunday.remark.service.RemarkService - function RemarkService.createRemark make exception:PreparedStatementCallback; SQL [insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?)]; Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200] by:Remark(id=0, consumerId=1230, itemId=item-1, orderId=abc, score=20, header=标题, content=内容，15字，15字，15字，15字，15字，15字, images=null)
2021-04-01 17:58:28.543 WARN  --- [main] com.sunday.remark.service.RemarkService - function RemarkService.createRemark make exception:PreparedStatementCallback; SQL [insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?)]; Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200] by:Remark(id=0, consumerId=1230, itemId=item-1, orderId=abc, score=20, header=标题, content=内容，15字，15字，15字，15字，15字，15字, images=null)
2021-04-01 18:01:04.628 WARN  --- [main] o.s.w.context.support.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.sunday.remark.RemarkApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'orderService' for bean class [com.sunday.remark.service.OrderService] conflicts with existing, non-compatible bean definition of same name and class [com.sunday.remark.component.OrderService]
2021-04-01 18:16:28.328 WARN  --- [main] com.sunday.remark.service.RemarkService - function RemarkService.createRemark make exception:PreparedStatementCallback; SQL [insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?)]; Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200] by:Remark(id=0, consumerId=1230, itemId=item-1, orderId=abc, score=20, header=标题, content=内容，15字，15字，15字，15字，15字，15字, images=null)
2021-04-01 18:18:15.624 WARN  --- [main] com.sunday.remark.service.RemarkService - function RemarkService.createRemark make exception:PreparedStatementCallback; SQL [insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?)]; Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_8 ON PUBLIC.REMARK(ORDER_ID) VALUES 10"; SQL statement:
insert into remark(consumer_id,item_id,order_id,score,header,content,images) values(?,?,?,?,?,?,?) [23505-200] by:Remark(id=0, consumerId=1230, itemId=item-1, orderId=abc, score=20, header=标题, content=内容，15字，15字，15字，15字，15字，15字, images=null)
